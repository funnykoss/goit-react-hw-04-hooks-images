{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","services/imageApi.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchInput","handlerSubmit","event","preventDefault","trim","toast","error","props","onSubmit","setState","handlerOnChange","currentTarget","value","toLowerCase","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImagesAPI","page","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","loading","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","src","alt","createPortal","overlay","onClick","modal","modalImg","ImageGalleryItem","tags","dataLargeImg","openModal","GalleryItemImage","ImageGallery","images","map","id","webformatURL","largeImageURL","prototype","PropTypes","arrayOf","shape","isRequired","func","LoaderSpin","loader","color","height","Button","loadImages","App","isLoading","showModal","modalImage","onSearch","onLoadMore","prevState","scrolling","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","dataset","largeimg","closeModal","prevProps","prevInput","nextInput","prevPage","nextPage","imagesAPI","hits","length","status","catch","finally","Loader","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0bab3a30.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\",\"modalImg\":\"Modal_modalImg__1ybZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"error\":\"App_error__1umzI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","\nimport { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\n\n\nexport default class Searchbar extends Component{\n    state = {\n       searchInput:'',\n    }\n    handlerSubmit = event => {\n          \n        event.preventDefault();\n      \n        if (this.state.searchInput.trim() === ''){\n            return toast.error('введите запрос')\n        }\n        this.props.onSubmit(this.state.searchInput)\n        this.setState({searchInput:''})\n    }\n\n    handlerOnChange = event => {\n      this.setState({ searchInput: event.currentTarget.value.toLowerCase() })   \n    }\n  render() {\n    return (\n      <header className={s.Searchbar}>\n      <form onSubmit={ this.handlerSubmit }\n      className={s.SearchForm}>\n    <button type=\"submit\" className={s.SearchFormButton}>\n      <span className={s.SearchFormButtonLabel}>Search</span>\n    </button>\n\n    <input\n      className={s.SearchFormInput}\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n      value={this.state.searchInput}\n      onChange={this.handlerOnChange}\n    />\n  </form>\n</header>\n    )\n}\n}\n\n\n\n\n\n\n","const API_KEY = '6175642-0178aa6b85454b63af0eb865e'\n// const BASE_URL = 'https://pixabay.com/api/'\nfunction fetchImagesAPI(searchInput, page ) {\n   \n    return fetch(`https://pixabay.com/api/?q=${searchInput}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(response => {\n                    if (response.ok) {\n                       return response.json()\n                    }\n return Promise.reject(new Error(`не удалось найти изображение по запросу ${searchInput}`))\n         })\n}\n\nconst api = {\n    fetchImagesAPI,\n}\n\nexport default api","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from \"./Modal.module.css\";\n\nconst modalRoot= document.querySelector('#modal-root')\nexport default class Modal extends Component {\n    state = {\n        loading: false,\n    }\n    componentDidMount() {\n        \n        window.addEventListener('keydown',this.handleKeyDown )\n    }\n    componentWillUnmount() {\n       \n        window.removeEventListener('keydown', this.handleKeyDown)\n    }\n    handleKeyDown = event => {\n        if (event.code === 'Escape') {\n            this.props.onClose()\n        }\n    }\n    handleBackdropClick = event => {\n        if (event.currentTarget === event.target) {\n           this.props.onClose()\n        }\n    }\n   \n    render() {\n        const { src, alt } = this.props;\n        return createPortal(\n            <div className={s.overlay} onClick={this.handleBackdropClick}>\n            <div className={s.modal}>\n                    <img className={s.modalImg} src={src} alt={alt}></img> \n            </div>\n        </div>,\n            modalRoot,\n        );\n    }\n}","import React from 'react';\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({ tags, src, dataLargeImg, openModal }) {\n    return (\n        <li className={s.ImageGalleryItem} onClick={openModal}>\n            <img\n                src={src}\n                alt={tags}\n                data-largeimg={dataLargeImg}\n                className={s.GalleryItemImage} />\n        </li>\n    );\n}\n\nImageGalleryItem.propTypes = {\n    tags: PropTypes.string.isRequired,\n    src: PropTypes.string.isRequired,\n    dataLargeImg: PropTypes.string.isRequired,\n    openModal: PropTypes.func,\n}","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem'\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGallery({images, onClick}) {\n    return (\n        <ul className={s.ImageGallery}>\n            {images.map(({ id, tags, webformatURL, largeImageURL }) => {\n                return (\n                    <ImageGalleryItem\n                        key={id}\n                        tags={tags}\n                        src={webformatURL}\n                        dataLargeImg={largeImageURL}\n                        openModal={onClick}\n                    />   \n                )\n            })}\n        </ul>\n    )\n}\n\nImageGallery.prototype = {\n    images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n    onClick: PropTypes.func,\n}","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./Loader.module.css\";\n\nclass LoaderSpin extends Component {\n  state = {};\n  render() {\n    return (\n      <div className={s.loader}>\n        <Loader type=\"BallTriangle\" color=\"#3f51b5\" height={60} />\n      </div>\n    );\n  }\n}\n\nexport default LoaderSpin;","import React from 'react';\nimport s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function Button({loadImages}) {\n    return (\n        <button type=\"button\" className={s.Button} onClick={loadImages}>\n            Load more...\n        </button>\n    );\n};\n\nButton.propTypes = {\n    onClick: PropTypes.func,\n}","import { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport imagesAPI from './services/imageApi';\nimport Modal from './components/Modal/Modal';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport LoaderSpin from './components/Loader/Loader';\nimport Button from './components/Button/Button';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    searchInput: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    modalImage: '',\n    alt: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    const prevInput = prevState.searchInput;\n    const nextInput = this.state.searchInput;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevInput !== nextInput || prevPage !== nextPage) {\n      this.setState({ isLoading: true });\n      imagesAPI\n        .fetchImagesAPI(nextInput, nextPage)\n        .then(({ hits }) => {\n          if (hits.length === 0) {\n            return this.setState({\n              status: 'rejected',\n              error: `не удалось найти изображение по запросу ${nextInput}`,\n            });\n          }\n          this.setState(({ images, page }) => ({\n            images: [...images, ...hits],\n            page: page,\n            status: 'resolved',\n          }));\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  }\n  onSearch = searchInput => {\n    this.setState({ searchInput, images: [], page: 1, error: null });\n  };\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.scrolling();\n  };\n  scrolling = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  openModal = event => {\n    this.setState(() => ({\n      modalImage: event.target.dataset.largeimg,\n      alt: event.target.alt,\n    }));\n    this.toggleModal();\n  };\n  closeModal = () => {\n    this.setState({\n      modalImage: '',\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, error, modalImage, showModal, isLoading, alt } = this.state;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onSearch} />\n        {isLoading && <LoaderSpin />}\n        {images.length > 0 && !error && (\n          <>\n            <ImageGallery onClick={this.openModal} images={images} />\n            <Button loadImages={this.onLoadMore} />\n          </>\n        )}\n        {showModal && (\n          <Modal onClose={this.closeModal} src={modalImage} alt={alt} />\n        )}\n        {error && <p className={s.error}>{error}</p>}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\",\"GalleryItemImage\":\"ImageGallery_GalleryItemImage__2xcKD\"};"],"sourceRoot":""}